<!-- privacy.html - Privacy Policy Page -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Smart Finance Hub</title>
    <meta name="description" content="Privacy Policy for Smart Finance Hub - How we collect, use, and protect your personal information.">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="canonical" href="https://smartfinancehub.vip/privacy.html">
</head>
<body>
    <header>
        <nav class="container">
            <a href="/" class="logo">ðŸ’° Smart Finance Hub</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/articles/">Articles</a></li>
                <li><a href="/about.html">About</a></li>
                <li><a href="/contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main class="container" style="padding: 3rem 0;">
        <div class="legal-page">
            <h1>Privacy Policy</h1>
            <p><em>Last updated: March 1, 2025</em></p>

            <section>
                <h2>Introduction</h2>
                <p>Smart Finance Hub ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website smartfinancehub.vip.</p>
            </section>

            <section>
                <h2>Information We Collect</h2>
                <h3>Personal Information</h3>
                <ul>
                    <li>Email addresses (for newsletter subscriptions)</li>
                    <li>Names (if provided)</li>
                    <li>Contact information (if you contact us)</li>
                </ul>

                <h3>Automatically Collected Information</h3>
                <ul>
                    <li>IP addresses</li>
                    <li>Browser type and version</li>
                    <li>Pages visited and time spent on pages</li>
                    <li>Referring website information</li>
                    <li>Device information</li>
                </ul>
            </section>

            <section>
                <h2>How We Use Your Information</h2>
                <ul>
                    <li>To provide and maintain our service</li>
                    <li>To send you newsletters and updates (with your consent)</li>
                    <li>To improve our website and user experience</li>
                    <li>To comply with legal obligations</li>
                    <li>To prevent fraud and abuse</li>
                </ul>
            </section>

            <section>
                <h2>Cookies and Tracking</h2>
                <p>We use cookies and similar tracking technologies to enhance your browsing experience. You can control cookie settings through your browser preferences.</p>
                
                <h3>Types of Cookies We Use:</h3>
                <ul>
                    <li><strong>Essential Cookies:</strong> Required for basic site functionality</li>
                    <li><strong>Analytics Cookies:</strong> Help us understand site usage (Google Analytics)</li>
                    <li><strong>Marketing Cookies:</strong> Used for targeted advertising (with consent)</li>
                </ul>
            </section>

            <section>
                <h2>Third-Party Services</h2>
                <p>We may use third-party services including:</p>
                <ul>
                    <li>Google Analytics (website analytics)</li>
                    <li>Google AdSense (advertising)</li>
                    <li>Email service providers (newsletters)</li>
                    <li>Affiliate networks (product recommendations)</li>
                </ul>
            </section>

            <section>
                <h2>Data Protection Rights</h2>
                <p>Depending on your location, you may have the following rights:</p>
                <ul>
                    <li>Right to access your personal information</li>
                    <li>Right to rectify inaccurate information</li>
                    <li>Right to erase your personal information</li>
                    <li>Right to restrict processing</li>
                    <li>Right to data portability</li>
                    <li>Right to object to processing</li>
                </ul>
            </section>

            <section>
                <h2>Contact Us</h2>
                <p>If you have questions about this Privacy Policy, please contact us:</p>
                <ul>
                    <li>Email: privacy@smartfinancehub.vip</li>
                    <li>Address: [Your Business Address]</li>
                </ul>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 Smart Finance Hub. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="/assets/js/main.js"></script>
</body>
</html>

---

<!-- sitemap.xml - SEO Sitemap -->
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    <url>
        <loc>https://smartfinancehub.vip/</loc>
        <lastmod>2025-03-15</lastmod>
        <changefreq>daily</changefreq>
        <priority>1.0</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/articles/</loc>
        <lastmod>2025-03-15</lastmod>
        <changefreq>daily</changefreq>
        <priority>0.8</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/articles/savings-accounts-2025.html</loc>
        <lastmod>2025-03-15</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.7</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/articles/credit-card-debt-consolidation.html</loc>
        <lastmod>2025-03-12</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.7</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/tools/mortgage-calculator.html</loc>
        <lastmod>2025-03-10</lastmod>
        <changefreq>monthly</changefreq>
        <priority>0.6</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/privacy.html</loc>
        <lastmod>2025-03-01</lastmod>
        <changefreq>yearly</changefreq>
        <priority>0.3</priority>
    </url>
    <url>
        <loc>https://smartfinancehub.vip/terms.html</loc>
        <lastmod>2025-03-01</lastmod>
        <changefreq>yearly</changefreq>
        <priority>0.3</priority>
    </url>
</urlset>

---

# robots.txt - Search Engine Instructions
User-agent: *
Allow: /

# Sitemap location
Sitemap: https://smartfinancehub.vip/sitemap.xml

# Block admin areas
Disallow: /admin/
Disallow: /api/
Disallow: /*.json$

# Allow important files
Allow: /assets/
Allow: /articles/
Allow: /tools/

---

{
  "name": "Smart Finance Hub",
  "short_name": "SmartFinance",
  "description": "Your guide to financial freedom",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#667eea",
  "theme_color": "#667eea",
  "icons": [
    {
      "src": "/assets/images/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/assets/images/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}

---

<!-- wrangler.toml - Cloudflare Configuration -->
name = "smart-finance-hub"
compatibility_date = "2024-03-01"

[env.production]
route = "smartfinancehub.vip/*"

[build]
command = ""
cwd = "."
watch_dir = "."

[[build.upload.rules]]
type = "ESModules"
globs = ["**/*.js"]

# Environment variables (set in Cloudflare dashboard)
# OPENAI_API_KEY = "your-openai-key"
# MAILCHIMP_API_KEY = "your-mailchimp-key"
# GA_MEASUREMENT_ID = "your-google-analytics-id"

---

# _headers - Cloudflare Security Headers
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  X-XSS-Protection: 1; mode=block
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: camera=(), microphone=(), geolocation=()
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://www.google-analytics.com https://analytics.google.com;

/assets/*
  Cache-Control: public, max-age=31536000, immutable

/api/*
  Cache-Control: no-store, no-cache, must-revalidate

---

# _redirects - Cloudflare Redirects
# API routes to Cloudflare Functions
/api/newsletter /api/newsletter 200
/api/analytics /api/analytics 200
/api/track-ad-click /api/track-ad-click 200
/api/track-session /api/track-session 200

# SEO redirects
/home / 301
/blog /articles 301

---

// functions/newsletter.js - Cloudflare Function
export async function onRequestPost(context) {
  const { request, env } = context;
  
  // Handle CORS
  const corsHeaders = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'POST, OPTIONS',
    'Access-Control-Allow-Headers': 'Content-Type',
  };

  try {
    const { email, source } = await request.json();

    // Validate email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      return new Response(
        JSON.stringify({ error: 'Invalid email address' }),
        { 
          status: 400, 
          headers: { ...corsHeaders, 'Content-Type': 'application/json' }
        }
      );
    }

    // Integration examples for popular email services:
    
    // MAILCHIMP INTEGRATION
    if (env.MAILCHIMP_API_KEY && env.MAILCHIMP_LIST_ID) {
      const mailchimpResponse = await fetch(
        `https://${env.MAILCHIMP_SERVER_PREFIX}.api.mailchimp.com/3.0/lists/${env.MAILCHIMP_LIST_ID}/members`,
        {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${env.MAILCHIMP_API_KEY}`,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            email_address: email,
            status: 'subscribed',
            tags: [source || 'website'],
          }),
        }
      );

      if (!mailchimpResponse.ok) {
        throw new Error('Mailchimp API error');
      }
    }

    // CONVERTKIT INTEGRATION
    if (env.CONVERTKIT_API_KEY && env.CONVERTKIT_FORM_ID) {
      const convertkitResponse = await fetch(
        `https://api.convertkit.com/v3/forms/${env.CONVERTKIT_FORM_ID}/subscribe`,
        {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            api_key: env.CONVERTKIT_API_KEY,
            email: email,
            tags: [source || 'website'],
          }),
        }
      );

      if (!convertkitResponse.ok) {
        throw new Error('ConvertKit API error');
      }
    }

    // Log subscription (for development/analytics)
    console.log('Newsletter subscription:', { 
      email, 
      source, 
      timestamp: new Date().toISOString(),
      ip: request.headers.get('CF-Connecting-IP'),
      country: request.cf?.country
    });

    return new Response(
      JSON.stringify({
        success: true,
        message: 'Successfully subscribed to newsletter',
      }),
      { 
        status: 200, 
        headers: { ...corsHeaders, 'Content-Type': 'application/json' }
      }
    );

  } catch (error) {
    console.error('Newsletter signup error:', error);
    
    return new Response(
      JSON.stringify({ error: 'Internal server error' }),
      { 
        status: 500, 
        headers: { ...corsHeaders, 'Content-Type': 'application/json' }
      }
    );
  }
}

// Handle preflight requests
export async function onRequestOptions() {
  return new Response(null, {
    status: 200,
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'POST, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    },
  });
}

---

// functions/analytics.js - Cloudflare Analytics Function
export async function onRequestPost(context) {
  const { request, env } = context;
  
  const corsHeaders = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'POST, OPTIONS',
    'Access-Control-Allow-Headers': 'Content-Type',
  };

  try {
    const eventData = await request.json();
    
    // Enhanced analytics data with Cloudflare context
    const analyticsData = {
      ...eventData,
      ip: request.headers.get('CF-Connecting-IP'),
      country: request.cf?.country,
      region: request.cf?.region,
      city: request.cf?.city,
      userAgent: request.headers.get('User-Agent'),
      timestamp: new Date().toISOString(),
      colo: request.cf?.colo, // Cloudflare edge location
      asn: request.cf?.asn, // ISP information
    };

    // Log to Cloudflare Analytics (basic logging)
    console.log('Analytics event:', analyticsData);

    // Send to external analytics services
    const promises = [];

    // Google Analytics 4 Measurement Protocol
    if (env.GA_MEASUREMENT_ID && env.GA_API_SECRET) {
      promises.push(
        fetch(`https://www.google-analytics.com/mp/collect?measurement_id=${env.GA_MEASUREMENT_ID}&api_secret=${env.GA_API_SECRET}`, {
          method: 'POST',
          body: JSON.stringify({
            client_id: eventData.userId || 'anonymous',
            events: [{
              name: eventData.action,
              parameters: {
                event_category: eventData.category,
                event_label: eventData.label,
                value: eventData.value,
                page_location: eventData.page,
              }
            }]
          })
        })
      );
    }

    // Mixpanel integration
    if (env.MIXPANEL_TOKEN) {
      const mixpanelData = {
        event: eventData.action,
        properties: {
          distinct_id: eventData.userId || 'anonymous',
          token: env.MIXPANEL_TOKEN,
          category: eventData.category,
          label: eventData.label,
          page: eventData.page,
          country: request.cf?.country,
          $ip: request.headers.get('CF-Connecting-IP'),
        }
      };

      promises.push(
        fetch('https://api.mixpanel.com/track', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify([mixpanelData])
        })
      );
    }

    // Store in Cloudflare KV (optional - for custom analytics)
    if (env.ANALYTICS_KV) {
      const key = `analytics:${Date.now()}:${Math.random().toString(36).substr(2, 9)}`;
      promises.push(
        env.ANALYTICS_KV.put(key, JSON.stringify(analyticsData), {
          expirationTtl: 86400 * 30 // 30 days
        })
      );
    }

    // Wait for all analytics services
    await Promise.allSettled(promises);

    return new Response(
      JSON.stringify({ success: true }),
      { 
        status: 200, 
        headers: { ...corsHeaders, 'Content-Type': 'application/json' }
      }
    );

  } catch (error) {
    console.error('Analytics error:', error);
    
    return new Response(
      JSON.stringify({ error: 'Failed to process analytics event' }),
      { 
        status: 500, 
        headers: { ...corsHeaders, 'Content-Type': 'application/json' }
      }
    );
  }
}

export async function onRequestOptions() {
  return new Response(null, {
    status: 200,
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'POST, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    },
  });
}

---

// functions/content-generator.js - AI Content Generation Function
export async function onRequestPost(context) {
  const { request, env } = context;
  
  // Check for API key authentication
  const authHeader = request.headers.get('Authorization');
  if (!authHeader || authHeader !== `Bearer ${env.ADMIN_API_KEY}`) {
    return new Response('Unauthorized', { status: 401 });
  }

  try {
    const { topic, keywords, contentType } = await request.json();

    if (!env.OPENAI_API_KEY) {
      throw new Error('OpenAI API key not configured');
    }

    // Generate content using OpenAI
    const openaiResponse = await fetch('https://api.openai.com/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${env.OPENAI_API_KEY}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model: 'gpt-4',
        messages: [
          {
            role: 'system',
            content: `You are a professional financial content writer. Create high-quality, SEO-optimized articles that provide genuine value to readers seeking financial advice. Always include disclaimers about consulting financial advisors.`
          },
          {
            role: 'user',
            content: `
              Write a comprehensive ${contentType || 'article'} about: ${topic}
              
              Target keywords: ${keywords?.join(', ') || 'general financial advice'}
              
              Requirements:
              - 2000+ words
              - SEO-optimized with natural keyword usage
              - Professional, helpful tone
              - Include actionable tips and examples
              - Add relevant statistics and data points
              - Structure with clear headings (H2, H3)
              - Include a compelling introduction and conclusion
              - Add appropriate financial disclaimers
              
              Format as clean HTML with proper heading tags.
            `
          }
        ],
        max_tokens: 4000,
        temperature: 0.7,
      }),
    });

    if (!openaiResponse.ok) {
      throw new Error('OpenAI API request failed');
    }

    const openaiData = await openaiResponse.json();
    const generatedContent = openaiData.choices[0].message.content;

    // Process and enhance the content
    const processedContent = {
      content: generatedContent,
      wordCount: generatedContent.split(/\s+/).length,
      generatedAt: new Date().toISOString(),
      topic: topic,
      keywords: keywords,
      readingTime: Math.ceil(generatedContent.split(/\s+/).length / 250), // Average reading speed
    };

    // Optionally store in KV for review queue
    if (env.CONTENT_KV) {
      const contentKey = `content:pending:${Date.now()}`;
      await env.CONTENT_KV.put(contentKey, JSON.stringify(processedContent), {
        expirationTtl: 86400 * 7 // 7 days
      });
    }

    return new Response(
      JSON.stringify(processedContent),
      { 
        status: 200, 
        headers: { 'Content-Type': 'application/json' }
      }
    );

  } catch (error) {
    console.error('Content generation error:', error);
    
    return new Response(
      JSON.stringify({ error: error.message }),
      { 
        status: 500, 
        headers: { 'Content-Type': 'application/json' }
      }
    );
  }
}