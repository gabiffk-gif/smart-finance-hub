<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Smart Finance Hub</title>
    <meta name="description" content="Get in touch with Smart Finance Hub for financial guidance, support, or business inquiries. Professional financial advisory services and customer support.">
    <meta name="keywords" content="contact Smart Finance Hub, financial advisor contact, customer support, business inquiries, privacy questions">
    <meta name="author" content="Smart Finance Hub">
    <meta name="robots" content="index, follow">
    
    <!-- Enhanced Open Graph Tags -->
    <meta property="og:title" content="Contact Us - Smart Finance Hub">
    <meta property="og:description" content="Get in touch with Smart Finance Hub for financial guidance, support, or business inquiries. Professional financial advisory services and customer support.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://smartfinancehub.vip/contact.html">
    <meta property="og:image" content="https://smartfinancehub.vip/assets/images/contact-og-1200x630.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Contact Smart Finance Hub - Professional financial advisory services">
    <meta property="og:site_name" content="Smart Finance Hub">
    
    <!-- Enhanced Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@SmartFinanceHub">
    <meta name="twitter:title" content="Contact Us - Smart Finance Hub">
    <meta name="twitter:description" content="Get in touch with Smart Finance Hub for financial guidance and support.">
    <meta name="twitter:image" content="https://smartfinancehub.vip/assets/images/contact-twitter-1200x675.jpg">
    <meta name="twitter:image:alt" content="Contact Smart Finance Hub for professional financial advice">
    
    <link rel="canonical" href="https://smartfinancehub.vip/contact.html">
    <link rel="stylesheet" href="assets/css/cookie-consent.css">
    <link rel="stylesheet" href="assets/css/images.css">
    <link rel="stylesheet" href="assets/css/enhanced-seo.css">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3569163105837966"
         crossorigin="anonymous"></script>
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9RZ27MVK1D"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-9RZ27MVK1D');
    </script>
    
    <!-- Enhanced JSON-LD Schema Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ContactPage",
        "name": "Contact Us - Smart Finance Hub",
        "description": "Get in touch with Smart Finance Hub for financial guidance, support, or business inquiries.",
        "url": "https://smartfinancehub.vip/contact.html",
        "mainEntity": {
            "@type": "Organization",
            "name": "Smart Finance Hub",
            "url": "https://smartfinancehub.vip",
            "email": "info@smartfinancehub.vip",
            "contactPoint": [
                {
                    "@type": "ContactPoint",
                    "telephone": "+1-800-FINANCE",
                    "contactType": "customer service",
                    "email": "support@smartfinancehub.vip",
                    "availableLanguage": "en"
                },
                {
                    "@type": "ContactPoint",
                    "contactType": "business inquiries",
                    "email": "info@smartfinancehub.vip",
                    "availableLanguage": "en"
                },
                {
                    "@type": "ContactPoint",
                    "contactType": "privacy inquiries",
                    "email": "privacy@smartfinancehub.vip",
                    "availableLanguage": "en"
                }
            ]
        }
    }
    </script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.6; color: #333; background: #f8fafc; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 0; }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: bold; color: white; text-decoration: none; }
        .nav-links { display: flex; list-style: none; gap: 2rem; }
        .nav-links a { color: white; text-decoration: none; transition: opacity 0.3s; }
        .nav-links a:hover { opacity: 0.8; }
        .hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4rem 0; text-align: center; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; font-weight: 700; }
        .hero p { font-size: 1.2rem; opacity: 0.9; max-width: 600px; margin: 0 auto; }
        main { padding: 3rem 0; }
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin: 3rem 0; }
        .contact-form { background: white; border-radius: 12px; padding: 3rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .contact-info { background: white; border-radius: 12px; padding: 3rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .contact-form h2, .contact-info h2 { font-size: 1.8rem; color: #2d3748; margin-bottom: 1.5rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #2d3748; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 0.75rem; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        .form-group input.error, .form-group select.error, .form-group textarea.error { border-color: #e53e3e; }
        .form-group textarea { height: 120px; resize: vertical; }
        
        /* Enhanced form styling */
        .error-text { color: #e53e3e; font-size: 0.85rem; margin-top: 0.25rem; display: none; }
        .error-text.show { display: block; }
        .character-count { font-size: 0.8rem; color: #718096; text-align: right; margin-top: 0.25rem; }
        
        /* GDPR Section Styling */
        .gdpr-section { background: #f0f8ff; border: 1px solid #bee3f8; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; }
        .gdpr-notice h4 { color: #2b6cb0; margin-bottom: 0.5rem; }
        .gdpr-notice ul { margin: 1rem 0; padding-left: 1.5rem; }
        .gdpr-notice li { margin-bottom: 0.5rem; color: #2d3748; }
        .gdpr-notice a { color: #2b6cb0; }
        
        /* Custom checkbox styling */
        .checkbox-label { display: flex; align-items: flex-start; margin-bottom: 1rem; cursor: pointer; }
        .checkbox-label input[type="checkbox"] { display: none; }
        .checkmark { width: 20px; height: 20px; border: 2px solid #e2e8f0; border-radius: 4px; margin-right: 0.75rem; margin-top: 0.1rem; position: relative; transition: all 0.3s; flex-shrink: 0; }
        .checkbox-label input[type="checkbox"]:checked + .checkmark { background: #667eea; border-color: #667eea; }
        .checkbox-label input[type="checkbox"]:checked + .checkmark::after { content: '✓'; position: absolute; color: white; font-size: 14px; font-weight: bold; top: 50%; left: 50%; transform: translate(-50%, -50%); }
        .consent-text { line-height: 1.4; }
        .consent-text a { color: #667eea; text-decoration: underline; }
        
        /* Form actions */
        .form-actions { display: flex; gap: 1rem; margin-top: 2rem; }
        .submit-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 0.75rem 2rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; position: relative; flex: 1; }
        .submit-btn:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3); }
        .submit-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .clear-btn { background: transparent; color: #667eea; border: 2px solid #667eea; padding: 0.75rem 2rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .clear-btn:hover { background: #667eea; color: white; }
        
        /* Loading spinner */
        .spinner { width: 16px; height: 16px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite; display: inline-block; margin-right: 0.5rem; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* Success/Error message enhancements */
        .success-message, .error-message { border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem; font-weight: 500; }
        .success-message { background: #f0fff4; border: 1px solid #38a169; color: #22543d; }
        .error-message { background: #fed7d7; border: 1px solid #e53e3e; color: #742a2a; }
        .contact-method { margin-bottom: 2rem; padding: 1.5rem; background: #f7fafc; border-radius: 8px; border-left: 4px solid #667eea; }
        .contact-method h3 { color: #2d3748; margin-bottom: 0.5rem; }
        .contact-method p { color: #4a5568; margin-bottom: 0.5rem; }
        .contact-method a { color: #667eea; text-decoration: none; font-weight: 600; }
        .contact-method a:hover { text-decoration: underline; }
        .business-hours { background: #ebf8ff; border-radius: 8px; padding: 1.5rem; margin: 2rem 0; }
        .business-hours h3 { color: #2d3748; margin-bottom: 1rem; }
        .hours-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
        .success-message { background: #f0fff4; border: 1px solid #38a169; color: #22543d; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none; }
        .error-message { background: #fed7d7; border: 1px solid #e53e3e; color: #742a2a; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: none; }
        footer { background: #2d3748; color: white; padding: 2rem 0; margin-top: 4rem; }
        .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem; text-align: left; }
        .footer-section h3 { color: white; margin-bottom: 1rem; font-size: 1.1rem; }
        .footer-section ul { list-style: none; padding: 0; }
        .footer-section li { margin-bottom: 0.5rem; }
        .footer-section a { color: #a0aec0; text-decoration: none; }
        .footer-section a:hover { color: white; }
        .footer-bottom { border-top: 1px solid #4a5568; padding-top: 2rem; text-align: center; }
        .disclaimer { font-size: 0.85rem; margin-top: 1rem; color: #a0aec0; }
        @media (max-width: 768px) { 
            .hero h1 { font-size: 2rem; } 
            .contact-grid { grid-template-columns: 1fr; gap: 2rem; } 
            .contact-form, .contact-info { padding: 2rem 1rem; }
            .hours-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo">💰 Smart Finance Hub</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Contact Us</h1>
            <p>Get in touch with our financial experts for personalized guidance, support, or business inquiries. We're here to help you achieve your financial goals.</p>
        </div>
    </section>

    <main class="container">
        <div class="contact-grid">
            <div class="contact-form">
                <h2>Send Us a Message</h2>
                
                <div id="successMessage" class="success-message">
                    <strong>Thank you!</strong> Your message has been sent successfully. We'll get back to you within 24 hours.
                </div>
                
                <div id="errorMessage" class="error-message">
                    <strong>Error:</strong> There was a problem sending your message. Please try again or contact us directly.
                </div>
                
                <form id="contactForm" action="/api/contact" method="POST" novalidate>
                    <!-- Anti-spam honeypot field (hidden from users) -->
                    <div style="position: absolute; left: -9999px; opacity: 0; pointer-events: none;">
                        <input type="text" name="website" tabindex="-1" autocomplete="off">
                        <input type="email" name="email_confirm" tabindex="-1" autocomplete="off">
                    </div>
                    
                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input type="text" id="name" name="name" required 
                               minlength="2" maxlength="100"
                               pattern="[A-Za-z\s\-\']{2,100}"
                               aria-describedby="name-error">
                        <div class="error-text" id="name-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required 
                               maxlength="255"
                               aria-describedby="email-error">
                        <div class="error-text" id="email-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone Number (Optional)</label>
                        <input type="tel" id="phone" name="phone" 
                               pattern="[\+]?[0-9\s\-\(\)]{10,17}"
                               maxlength="17"
                               placeholder="e.g., +1 (555) 123-4567"
                               aria-describedby="phone-error">
                        <div class="error-text" id="phone-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Subject *</label>
                        <select id="subject" name="subject" required aria-describedby="subject-error">
                            <option value="">Please select a subject</option>
                            <option value="general">General Inquiry</option>
                            <option value="support">Customer Support</option>
                            <option value="business">Business Partnership</option>
                            <option value="privacy">Privacy Question</option>
                            <option value="advertising">Advertising Inquiry</option>
                            <option value="newsletter">Newsletter Support</option>
                            <option value="technical">Technical Issue</option>
                            <option value="feedback">Website Feedback</option>
                            <option value="other">Other</option>
                        </select>
                        <div class="error-text" id="subject-error"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message *</label>
                        <textarea id="message" name="message" 
                                  placeholder="Please provide details about your inquiry..."
                                  required minlength="10" maxlength="2000"
                                  rows="5"
                                  aria-describedby="message-error"></textarea>
                        <div class="error-text" id="message-error"></div>
                        <div class="character-count" id="message-count">0/2000 characters</div>
                    </div>
                    
                    <!-- Enhanced GDPR Compliance Section -->
                    <div class="form-group gdpr-section">
                        <div class="gdpr-notice">
                            <h4>🔒 Privacy & Data Protection Notice</h4>
                            <p>Your personal information will be used solely to respond to your inquiry. We comply with GDPR, CCPA, and other privacy regulations.</p>
                            <ul>
                                <li><strong>Data Use:</strong> Contact response only</li>
                                <li><strong>Data Retention:</strong> 3 years maximum</li>
                                <li><strong>Your Rights:</strong> Access, correct, or delete your data anytime</li>
                                <li><strong>Contact:</strong> <a href="mailto:privacy@smartfinancehub.vip">privacy@smartfinancehub.vip</a></li>
                            </ul>
                        </div>
                        
                        <div class="consent-checkboxes">
                            <label class="checkbox-label">
                                <input type="checkbox" id="consent-required" name="consent_required" required>
                                <span class="checkmark"></span>
                                <span class="consent-text">
                                    <strong>Required:</strong> I consent to Smart Finance Hub collecting and processing my personal data to respond to my inquiry as described in the <a href="privacy.html" target="_blank">Privacy Policy</a>. *
                                </span>
                            </label>
                            
                            <label class="checkbox-label">
                                <input type="checkbox" id="consent-marketing" name="consent_marketing">
                                <span class="checkmark"></span>
                                <span class="consent-text">
                                    Optional: I would like to receive our weekly newsletter with financial tips and updates. (You can unsubscribe anytime)
                                </span>
                            </label>
                        </div>
                        <div class="error-text" id="consent-error"></div>
                    </div>
                    
                    <!-- reCAPTCHA placeholder (for production) -->
                    <div class="form-group">
                        <div id="recaptcha-placeholder" style="margin: 1rem 0;"></div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="submit-btn" id="submit-btn">
                            <span class="btn-text">Send Message</span>
                            <span class="btn-loading" style="display: none;">
                                <span class="spinner"></span> Sending...
                            </span>
                        </button>
                        <button type="button" class="clear-btn" onclick="clearForm()">Clear Form</button>
                    </div>
                </form>
            </div>
            
            <div class="contact-info">
                <h2>Get in Touch</h2>
                
                <div class="contact-method">
                    <h3>📧 General Information</h3>
                    <p>For general questions about our content, services, or business inquiries.</p>
                    <p><a href="mailto:info@smartfinancehub.vip">info@smartfinancehub.vip</a></p>
                </div>
                
                <div class="contact-method">
                    <h3>🛟 Customer Support</h3>
                    <p>Need help with our website, newsletters, or have technical questions?</p>
                    <p><a href="mailto:support@smartfinancehub.vip">support@smartfinancehub.vip</a></p>
                </div>
                
                <div class="contact-method">
                    <h3>🔒 Privacy & Data Protection</h3>
                    <p>Questions about privacy, data protection, or cookie preferences.</p>
                    <p><a href="mailto:privacy@smartfinancehub.vip">privacy@smartfinancehub.vip</a></p>
                </div>
                
                <div class="business-hours">
                    <h3>📅 Response Times</h3>
                    <div class="hours-grid">
                        <span><strong>General Inquiries:</strong></span>
                        <span>Within 24 hours</span>
                        
                        <span><strong>Support Requests:</strong></span>
                        <span>Within 12 hours</span>
                        
                        <span><strong>Privacy Questions:</strong></span>
                        <span>Within 48 hours</span>
                        
                        <span><strong>Business Inquiries:</strong></span>
                        <span>Within 48 hours</span>
                    </div>
                </div>
                
                <div style="background: #f0fff4; border-radius: 8px; padding: 1.5rem; margin-top: 2rem;">
                    <h3 style="color: #22543d; margin-bottom: 1rem;">💡 Before You Contact Us</h3>
                    <ul style="color: #22543d; margin-left: 1rem;">
                        <li>Check our <a href="privacy.html" style="color: #38a169;">Privacy Policy</a> for privacy questions</li>
                        <li>Browse our articles for financial guidance</li>
                        <li>Subscribe to our newsletter for regular updates</li>
                        <li>Follow us on social media for daily tips</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p><strong>General Information:</strong><br>
                    <a href="mailto:info@smartfinancehub.vip">info@smartfinancehub.vip</a></p>
                    
                    <p><strong>Customer Support:</strong><br>
                    <a href="mailto:support@smartfinancehub.vip">support@smartfinancehub.vip</a></p>
                    
                    <p><strong>Team Inquiries:</strong><br>
                    <a href="mailto:team@smartfinancehub.vip">team@smartfinancehub.vip</a></p>
                    
                    <p><strong>Privacy & Data Protection:</strong><br>
                    <a href="mailto:privacy@smartfinancehub.vip">privacy@smartfinancehub.vip</a></p>
                    
                    <p><strong>Legal Matters:</strong><br>
                    <a href="mailto:legal@smartfinancehub.vip">legal@smartfinancehub.vip</a></p>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="#newsletter">Newsletter</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="contact.html">Contact Form</a></li>
                    </ul>
                    <p style="margin-top: 1rem; font-size: 0.8rem;">
                        <strong>Response Times:</strong><br>
                        General inquiries: 24 hours<br>
                        Legal matters: 48 hours<br>
                        Privacy requests: 48 hours
                    </p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Smart Finance Hub. All rights reserved.</p>
                <p class="disclaimer">
                    Investment advice is for educational purposes only. Please consult with a qualified financial advisor before making investment decisions. 
                    We may earn a commission from partner links on this page.
                </p>
                <p style="font-size: 0.8rem; margin-top: 1rem; color: #718096;">
                    General inquiries: <a href="mailto:info@smartfinancehub.vip" style="color: #a0aec0;">info@smartfinancehub.vip</a> |
                    Team inquiries: <a href="mailto:team@smartfinancehub.vip" style="color: #a0aec0;">team@smartfinancehub.vip</a> |
                    Privacy questions: <a href="mailto:privacy@smartfinancehub.vip" style="color: #a0aec0;">privacy@smartfinancehub.vip</a> |
                    Legal matters: <a href="mailto:legal@smartfinancehub.vip" style="color: #a0aec0;">legal@smartfinancehub.vip</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Enhanced Cookie Consent Banner -->
    <div class="cookie-banner" id="cookieBanner">
        <div class="cookie-content">
            <div class="cookie-icon">🍪</div>
            <div class="cookie-text">
                <h3>We Value Your Privacy</h3>
                <p>We use cookies to enhance your experience, analyze site traffic, and serve personalized ads. You can choose which cookies to accept.</p>
            </div>
            <div class="cookie-buttons">
                <button class="btn-accept-all" onclick="acceptAllCookies()">Accept All</button>
                <button class="btn-customize" onclick="showCookieSettings()">Customize</button>
                <button class="btn-decline" onclick="declineNonEssential()">Decline Non-Essential</button>
            </div>
        </div>
    </div>

    <script src="functions/image-management.js"></script>
    <script src="assets/js/enhanced-lazy-loading.js"></script>
    <script src="assets/js/cookie-consent.js"></script>
    <script>
        // Enhanced Contact Form with Advanced Validation and Anti-Spam
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            const submitBtn = document.getElementById('submit-btn');
            const messageTextarea = document.getElementById('message');
            const messageCount = document.getElementById('message-count');
            
            // Initialize form
            initializeForm();
            
            function initializeForm() {
                // Character counter for message field
                messageTextarea.addEventListener('input', function() {
                    const length = this.value.length;
                    messageCount.textContent = `${length}/2000 characters`;
                    messageCount.style.color = length > 1900 ? '#e53e3e' : '#718096';
                });
                
                // Real-time validation for all fields
                setupRealTimeValidation();
                
                // Form submission handler
                contactForm.addEventListener('submit', handleFormSubmit);
            }
            
            function setupRealTimeValidation() {
                // Name validation
                const nameField = document.getElementById('name');
                nameField.addEventListener('blur', function() {
                    validateField('name', this.value, {
                        required: true,
                        minLength: 2,
                        pattern: /^[A-Za-z\s\-\']{2,100}$/,
                        errorMsg: 'Please enter a valid name (2-100 characters, letters only)'
                    });
                });
                
                // Email validation
                const emailField = document.getElementById('email');
                emailField.addEventListener('blur', function() {
                    validateField('email', this.value, {
                        required: true,
                        pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                        errorMsg: 'Please enter a valid email address'
                    });
                });
                
                // Phone validation (optional)
                const phoneField = document.getElementById('phone');
                phoneField.addEventListener('blur', function() {
                    if (this.value.trim() !== '') {
                        validateField('phone', this.value, {
                            pattern: /^[\+]?[0-9\s\-\(\)]{10,17}$/,
                            errorMsg: 'Please enter a valid phone number'
                        });
                    }
                });
                
                // Subject validation
                const subjectField = document.getElementById('subject');
                subjectField.addEventListener('change', function() {
                    validateField('subject', this.value, {
                        required: true,
                        errorMsg: 'Please select a subject'
                    });
                });
                
                // Message validation
                messageTextarea.addEventListener('blur', function() {
                    validateField('message', this.value, {
                        required: true,
                        minLength: 10,
                        maxLength: 2000,
                        errorMsg: 'Please enter a message (10-2000 characters)'
                    });
                });
                
                // Consent validation
                const consentField = document.getElementById('consent-required');
                consentField.addEventListener('change', function() {
                    validateField('consent', this.checked, {
                        required: true,
                        errorMsg: 'You must consent to data processing to submit this form'
                    });
                });
            }
            
            function validateField(fieldName, value, rules) {
                const errorElement = document.getElementById(`${fieldName}-error`);
                const fieldElement = document.getElementById(fieldName === 'consent' ? 'consent-required' : fieldName);
                let isValid = true;
                let errorMsg = '';
                
                // Required field check
                if (rules.required && (!value || (typeof value === 'string' && value.trim() === ''))) {
                    isValid = false;
                    errorMsg = rules.errorMsg || 'This field is required';
                }
                
                // Pattern validation
                if (isValid && rules.pattern && typeof value === 'string' && !rules.pattern.test(value)) {
                    isValid = false;
                    errorMsg = rules.errorMsg || 'Invalid format';
                }
                
                // Length validation
                if (isValid && typeof value === 'string') {
                    if (rules.minLength && value.trim().length < rules.minLength) {
                        isValid = false;
                        errorMsg = `Minimum ${rules.minLength} characters required`;
                    }
                    if (rules.maxLength && value.length > rules.maxLength) {
                        isValid = false;
                        errorMsg = `Maximum ${rules.maxLength} characters allowed`;
                    }
                }
                
                // Update UI
                if (errorElement) {
                    if (isValid) {
                        errorElement.classList.remove('show');
                        if (fieldElement) fieldElement.classList.remove('error');
                    } else {
                        errorElement.textContent = errorMsg;
                        errorElement.classList.add('show');
                        if (fieldElement) fieldElement.classList.add('error');
                    }
                }
                
                return isValid;
            }
            
            function handleFormSubmit(e) {
                e.preventDefault();
                
                // Hide previous messages
                successMessage.style.display = 'none';
                errorMessage.style.display = 'none';
                
                // Get form data
                const formData = new FormData(contactForm);
                const data = Object.fromEntries(formData.entries());
                
                // Anti-spam check (honeypot)
                if (data.website || data.email_confirm) {
                    console.warn('Spam detected - form blocked');
                    return; // Silent fail for spam
                }
                
                // Comprehensive validation
                const validationResults = [
                    validateField('name', data.name, {
                        required: true,
                        minLength: 2,
                        pattern: /^[A-Za-z\s\-\']{2,100}$/,
                        errorMsg: 'Please enter a valid name'
                    }),
                    validateField('email', data.email, {
                        required: true,
                        pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                        errorMsg: 'Please enter a valid email address'
                    }),
                    validateField('subject', data.subject, {
                        required: true,
                        errorMsg: 'Please select a subject'
                    }),
                    validateField('message', data.message, {
                        required: true,
                        minLength: 10,
                        maxLength: 2000,
                        errorMsg: 'Please enter a message (10-2000 characters)'
                    }),
                    validateField('consent', data.consent_required, {
                        required: true,
                        errorMsg: 'You must consent to data processing'
                    })
                ];
                
                // Phone validation (optional)
                if (data.phone && data.phone.trim() !== '') {
                    validationResults.push(validateField('phone', data.phone, {
                        pattern: /^[\+]?[0-9\s\-\(\)]{10,17}$/,
                        errorMsg: 'Please enter a valid phone number'
                    }));
                }
                
                // Check if all validations passed
                const isFormValid = validationResults.every(result => result);
                
                if (!isFormValid) {
                    errorMessage.innerHTML = '<strong>Please correct the errors above and try again.</strong>';
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    return;
                }
                
                // Additional security checks
                if (isSpamContent(data.message)) {
                    errorMessage.innerHTML = '<strong>Message appears to be spam.</strong> Please revise your message and try again.';
                    errorMessage.style.display = 'block';
                    return;
                }
                
                // Submit form
                submitContactForm(data);
            }
            
            function isSpamContent(message) {
                const spamKeywords = [
                    'viagra', 'casino', 'lottery', 'winner', 'congratulations',
                    'click here', 'buy now', 'limited time', 'act now',
                    'make money fast', 'work from home', 'guaranteed income'
                ];
                
                const lowerMessage = message.toLowerCase();
                return spamKeywords.some(keyword => lowerMessage.includes(keyword));
            }
            
            function submitContactForm(data) {
                // Show loading state
                const btnText = submitBtn.querySelector('.btn-text');
                const btnLoading = submitBtn.querySelector('.btn-loading');
                
                btnText.style.display = 'none';
                btnLoading.style.display = 'inline-flex';
                submitBtn.disabled = true;
                
                // Prepare data for submission
                const submissionData = {
                    name: data.name.trim(),
                    email: data.email.trim().toLowerCase(),
                    phone: data.phone ? data.phone.trim() : '',
                    subject: data.subject,
                    message: data.message.trim(),
                    consent_required: data.consent_required === 'on',
                    consent_marketing: data.consent_marketing === 'on',
                    timestamp: new Date().toISOString(),
                    user_agent: navigator.userAgent,
                    referrer: document.referrer || 'Direct',
                    page_url: window.location.href
                };
                
                // Track form submission
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'contact_form_submit', {
                        'event_category': 'engagement',
                        'event_label': data.subject,
                        'value': 1
                    });
                }
                
                // Email integration (production implementation)
                fetch('/api/contact', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Requested-With': 'XMLHttpRequest'
                    },
                    body: JSON.stringify(submissionData)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(result => {
                    resetButtonState();
                    
                    if (result.success) {
                        successMessage.innerHTML = `
                            <strong>Thank you, ${data.name}!</strong> 
                            Your message has been sent successfully. We'll get back to you at 
                            ${data.email} within 24 hours.
                        `;
                        successMessage.style.display = 'block';
                        contactForm.reset();
                        messageCount.textContent = '0/2000 characters';
                        
                        // Clear any existing error states
                        document.querySelectorAll('.error-text').forEach(el => el.classList.remove('show'));
                        document.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
                        
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        
                        // Auto-hide success message after 10 seconds
                        setTimeout(() => {
                            successMessage.style.display = 'none';
                        }, 10000);
                    } else {
                        throw new Error(result.message || 'Form submission failed');
                    }
                })
                .catch(error => {
                    resetButtonState();
                    console.error('Contact form error:', error);
                    
                    errorMessage.innerHTML = `
                        <strong>Oops! Something went wrong.</strong> 
                        ${error.message === 'Failed to fetch' ? 
                            'Please check your internet connection and try again.' : 
                            'Please try again or contact us directly at info@smartfinancehub.vip'}
                    `;
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                });
            }
            
            function resetButtonState() {
                const btnText = submitBtn.querySelector('.btn-text');
                const btnLoading = submitBtn.querySelector('.btn-loading');
                
                btnText.style.display = 'inline';
                btnLoading.style.display = 'none';
                submitBtn.disabled = false;
            }
            
            // Clear form function
            window.clearForm = function() {
                if (confirm('Are you sure you want to clear all form data?')) {
                    contactForm.reset();
                    messageCount.textContent = '0/2000 characters';
                    
                    // Clear error states
                    document.querySelectorAll('.error-text').forEach(el => el.classList.remove('show'));
                    document.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
                    
                    // Hide messages
                    successMessage.style.display = 'none';
                    errorMessage.style.display = 'none';
                }
            };
        });
        
        // Track page view
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                'page_title': 'Contact Us - Smart Finance Hub',
                'page_location': window.location.href
            });
        }
    </script>
</body>
</html>